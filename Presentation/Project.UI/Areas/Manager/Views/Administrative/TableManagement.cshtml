@model TableListVm
@{
    ViewData["Title"] = "Masa Yönetimi";
}

<div class="container-fluid mt-4 px-4">
   
    <div class="row align-items-center mb-4">
        <div class="col">
            <h2 class="fw-light">Masa Yönetimi</h2>
        </div>
        <div class="col-auto">
            <a asp-action="AddTable" class="btn btn-success px-4">+ Yeni Masa Ekle</a>
        </div>
    </div>


    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success shadow-sm border-0">@TempData["Success"]</div>
    }

 
    <div class="card shadow-sm border-0">
        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
                <thead class="bg-light">
                    <tr>
                        <th class="ps-4" style="width: 120px;">Masa No</th>
                     
                        <th>Garson</th>
                        <th class="text-center">Durum</th>
                        <th class="text-end pe-4" style="width: 250px;">İşlemler</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var table in Model.Tables)
                    {
                        <tr>
                            <td class="ps-4">
                             
                                <span class="badge bg-light text-dark border fw-bold px-2 py-1">
                                    #@table.TableNumber
                                </span>
                            </td>
                           
                            <td class="text-muted small">
                                <i class="bi bi-person me-1 text-secondary"></i>
                                @(string.IsNullOrEmpty(table.WaiterName) ? "Atanmadı" : table.WaiterName)
                            </td>
                            <td class="text-center">
                                @{
                                
                                    var statusClass = table.TableStatus == "Boş" ? "bg-success-subtle text-success border-success" :
                                    table.TableStatus == "Dolu" ? "bg-danger-subtle text-danger border-danger" :
                                    "bg-info-subtle text-info border-info"; 
                                }
                                <span class="badge @statusClass border fw-normal px-3 py-1">
                                    @table.TableStatus
                                </span>
                            </td>
                            <td class="text-end pe-4">
                                <a asp-action="EditTable" asp-route-id="@table.Id" class="btn btn-sm btn-outline-primary px-3 me-1">Düzenle</a>
                                <a asp-action="TableDetail" asp-route-id="@table.Id" class="btn btn-sm btn-outline-info px-3">Detaylar</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>