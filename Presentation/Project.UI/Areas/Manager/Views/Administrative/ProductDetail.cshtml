@model ProductDetailVm
@{
    ViewData["Title"] = "Ürün Detayı";
}

<div class="container mt-4" style="max-width: 700px;">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Ürün Detayı</h2>
        <a asp-action="ProductManagement" class="btn btn-secondary">Geri</a>
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <dl class="row mb-0">
                <dt class="col-sm-4">Adı</dt>
                <dd class="col-sm-8">@Model.ProductName</dd>

                <dt class="col-sm-4">Kategori</dt>
                <dd class="col-sm-8">@Model.CategoryName</dd>

                <dt class="col-sm-4">Birim Fiyat</dt>
                <dd class="col-sm-8">@Model.UnitPrice.ToString("C2")</dd>

                <dt class="col-sm-4">Birim</dt>
                <dd class="col-sm-8">@Model.UnitName</dd>

                <dt class="col-sm-4">Satılabilir</dt>
                <dd class="col-sm-8">@((Model.IsSellable ? "Evet" : "Hayır"))</dd>

                <dt class="col-sm-4">Ekstra</dt>
                <dd class="col-sm-8">@((Model.IsExtra ? "Evet" : "Hayır"))</dd>

                <dt class="col-sm-4">Üretilebilir</dt>
                <dd class="col-sm-8">@((Model.CanBeProduced ? "Evet" : "Hayır"))</dd>

                <dt class="col-sm-4">Hazır</dt>
                <dd class="col-sm-8">@((Model.IsReadyMade ? "Evet" : "Hayır"))</dd>

                <dt class="col-sm-4">Durum</dt>
                <dd class="col-sm-8">@Model.Status</dd>

                <dt class="col-sm-4">Eklenme Tarihi</dt>
                <dd class="col-sm-8">@Model.InsertedDate.ToString("dd.MM.yyyy")</dd>

                @if (Model.UpdatedDate != null)
                {
                    <dt class="col-sm-4">Güncellenme Tarihi</dt>
                    <dd class="col-sm-8">@Model.UpdatedDate?.ToString("dd.MM.yyyy")</dd>
                }
                @if (Model.DeletionDate != null)
                {
                    <dt class="col-sm-4">Silinme Tarihi</dt>
                    <dd class="col-sm-8">@Model.DeletionDate?.ToString("dd.MM.yyyy")</dd>
                }
            </dl>
        </div>
        <div class="card-footer bg-white d-flex justify-content-end gap-2">
            @if (Model.Status == "Inserted" || Model.Status == "Updated")
            {
                <form asp-action="SoftDeleteProduct" asp-route-id="@Model.Id" method="post" class="d-inline">
                    <button type="submit" class="btn btn-warning" onclick="return confirm('Ürünü pasife almak istediğinize emin misiniz?');">Pasife Al</button>
                </form>
            }
            else if (Model.Status == "Deleted")
            {
                <form asp-action="ActivateProduct" asp-route-id="@Model.Id" method="post" class="d-inline">
                    <button type="submit" class="btn btn-success" onclick="return confirm('Ürünü aktifleştirmek istediğinize emin misiniz?');">Aktife Al</button>
                </form>
            }
            <form asp-action="HardDeleteProduct" asp-route-id="@Model.Id" method="post" class="d-inline">
                <button type="submit" class="btn btn-danger" onclick="return confirm('Ürünü kalıcı olarak silmek istediğinize emin misiniz?');">Sil</button>
            </form>
            <a asp-action="EditProduct" asp-route-id="@Model.Id" class="btn btn-primary">Düzenle</a>
        </div>
    </div>
</div>